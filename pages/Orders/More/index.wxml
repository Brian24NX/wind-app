<!--pages/Orders/More/index.wxml-->
<wxs module="filters" src="../../../utils/format.wxs"></wxs>
<view class="searchResultContainers">
  <view class="searchResultContainer">
    <view class="resTitle">{{languageContent.title}}</view>
    <view class="resList">
      <view class="oneRes" wx:for="{{lists}}">
        <image src="/assets/img/search/order@2x.png" mode="aspectFit" class="resIcon"></image>
        <view class="resContent">{{item.id}}</view>
      </view>
    </view>
  </view>
</view>
<view class="orderMoreList">
  <view wx:for="{{lists}}">
    <view wx:if="{{item.movements.length}}">
      <view class="oneOrder" bindtap="toDetail" data-index="{{index}}">
        <view class="orderTop">
          <view class="topLeft">
            <text>{{item.timeRemaining < 1 ? languageContent.tingbo : languageContent.yuji }}</text>
          </view>
          <view class="topRight">{{languageContent.language === 'en' ? filters.formatEnDate(item.movements[item.movements.length - 1].date, '-', '') : filters.formatCnDate(item.movements[item.movements.length - 1].date)}} {{item.movements[item.movements.length - 1].time}}</view>
        </view>
        <view class="orderBottom">
          <view class="oneBottom">
            <image src="/assets/img/search/jzxh@2x.png" mode="aspectFit" class="leftIcon"></image>
            <view class="details">
              <view class="detailLeft">
                <view class="huogui">{{item.id}}</view>
                <view>{{languageContent.huoguihao}}</view>
              </view>
              <view class="detailRight">
                <view class="xiangxing">{{item.size}}{{item.type}}</view>
                <view>{{languageContent.xiangxing}}</view>
              </view>
            </view>
          </view>
          <view class="oneBottom">
            <image src="/assets/img/search/zyg@2x.png" mode="aspectFit" class="leftIcon"></image>
            <view class="details" style="flex-direction: column;">
              <view>
                <view class="status">{{languageContent.language === 'en' ? item.currentStatus.status.name : item.currentStatus.status.statusLabel}}</view>
              </view>

              <view class="details2">
                <view class="detailLeft">
                  <view class="address">{{item.currentStatus.pointLocation.name}}</view>
                  <view>{{languageContent.location}}</view>
                </view>
                <view class="detailRight">
                  <view class="xiangxing time">{{languageContent.language === 'en' ? filters.formatEnDate(item.currentStatus.date, '-', '', true) : filters.formatCnDate(item.currentStatus.date, true)}} {{item.currentStatus.time}}</view>
                  <view>{{languageContent.time}}</view>
                </view>
              </view>
            </view>
          </view>
          <view class="oneBottom">
            <image src="/assets/img/search/hlzy@2x.png" mode="aspectFit" class="leftIcon"></image>
            <view class="details">
              <view class="detailLeft">
                <view class="huogui chuanming">{{item.movements[item.movements.length - 2].vessel.name}}</view>
                <view>{{languageContent.chuanming}}</view>
              </view>
              <view class="detailRight">
                <view class="xiangxing">{{item.movements[item.movements.length - 2].voyageReference}}</view>
                <view>{{languageContent.chuanci}}</view>
              </view>
            </view>
          </view>
        </view>
      </view>
    </view>
    <view wx:else>
      <view class="oneOrder">
        <view class="orderTop">
          <view class="topLeft">{{languageContent.yuji}}</view>
        </view>
        <view class="orderBottom">
          <view class="oneBottom">
            <image src="/assets/img/search/jzxh@2x.png" mode="aspectFit" class="leftIcon"></image>
            <view class="details">
              <view class="detailLeft">
                <view class="huogui">{{item.id}}</view>
                <view>{{languageContent.dingdans}}</view>
              </view>
            </view>
          </view>
          <view class="noOrderData">
            <image src="https://ycyy-db-01.obs.cn-east-3.myhuaweicloud.com/test/no.png"></image>
            <view>{{languageContent.noDataDesc}}</view>
          </view>
        </view>
      </view>
    </view>
  </view>
</view>